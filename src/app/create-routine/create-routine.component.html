<div class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h3 class="m-0 text-dark">Add Routine</h3>
      </div>
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active">Add Routine</li>
        </ol>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid h-100 bg-light text-dark">
<div class="text-center">
  <button type="button"  data-toggle="tooltip" data-placement="left" ngbTooltip="BACK" (click)="gotoList()" class="btn btn-primary"><i class="fa fa-arrow-left" aria-hidden="true"></i> BACK</button>
</div>
<br>
<div  style="width:800px; margin:0 auto;">
<div [hidden]="firstStepSubmitted" style="width: 400px;">
  <form>
    <!-- <div class="form-group">
      <label for="name">Routine ID</label>
      <input type="text" class="form-control" id="routineID" required [(ngModel)]="Routine.routineID" name="Routine ID">
    </div> -->

    <div class="form-group" style="width: 400px;"
    [class.has-error]="term.invalid && term.touched">
      <label for="term">Term</label>
      <div class="form-control">
        <label class="radio-inline">
            <input type="radio" name="term" required #term="ngModel"
                   value="Spring" [(ngModel)]="Term"> Spring
        </label>
        <label class="radio-inline">
            <input type="radio" name="term" required #term="ngModel"
                   value="Summer" [(ngModel)]="Term"> Summer
        </label>
        <label class="radio-inline">
          <input type="radio" name="term" required #term="ngModel"
                 value="Autumn" [(ngModel)]="Term"> Autumn
      </label>
    </div>
    </div>

    <div class="form-group">
      <label for="year">Year</label>
      <select id="year" name="year" [(ngModel)]="Year"
              class="form-control">
        <option *ngFor="let year of Years" [value]="year">
          {{year}}
        </option>
      </select>
    </div>
    <div class="form-group">
      <label for="day">Day</label>
      <select id="day" name="day" [(ngModel)]="Day"
              class="form-control">
        <option *ngFor="let day of Days" [value]="day">
          {{day}}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="year">Program</label>
      <select id="program" name="program" [(ngModel)]="Program"
              class="form-control" (ngModelChange) ='programSelected()'>
        <option *ngFor="let program of programs" [value]="program.programCode">
          {{program.pro_name}}
        </option>
      </select>
    </div>
 </form>
 <button [disabled]="!firstStep" class="btn btn-success" (click)="addTermYearDayProgram()">Add</button>
</div>

<div *ngIf='firstStepSubmitted'class="form-group" style="width: 400px;"
[class.has-error]="term.invalid && term.touched">
  <form>
    <div class="form-group">
      <label for="batch">Batch</label>
      <select id="batch" name="batch" [(ngModel)]="Batch"
              class="form-control" (ngModelChange) ='batchSelected(Batch)'>
        <option *ngFor="let batch of batches" [value]="batch.id">
          {{batch.batchName}}
        </option>
      </select>
    </div>
    <div *ngIf="batchLoaded" class="form-group">
      <label for="section">Section</label>
      <select id="section" name="section" [(ngModel)]="Section"
              class="form-control" (ngModelChange) ='sectionSelected()'>
        <option *ngFor="let section of sections" [value]="section.id">
          {{section.sectionName}}
        </option>
      </select>
    </div>
    <div *ngIf="sectionLoaded" class="form-group">
      <label for="timeSlot">Timeslot</label>
      <select id="timeSlot" name="timeSlot" [(ngModel)]="Time"
              class="form-control" (ngModelChange) ='timeSlotSelected()'>
        <option *ngFor="let time of timeSlots" [value]="time">
          {{time}}
        </option>
      </select>
    </div>
    <div *ngIf="timeSlotLoaded" class="form-group">
      <label for="courseAvailable">Course available</label>
      <select id="courseAvailable" name="courseAvailable" [(ngModel)]="selectedCourseOffered"
              class="form-control" (ngModelChange) ='courseSelected(selectedCourseOffered)'>
        <option *ngFor="let crs of availableCourse" [value]="crs.courseId">
          {{crs.course}}
        </option>
      </select>
    </div>
    <div *ngIf="courseLoaded" class="form-group">
      <label for="room">Room</label>
      <select id="room" name="room" [(ngModel)]="Room"
              class="form-control" (ngModelChange) ='roomSelected()'>
        <option *ngFor="let room of rooms" [value]="room.roomCode">
          {{room.roomCode}}
        </option>
      </select>
    </div>
  </form>
 
  <button [disabled]="!secondStepLoaded" class="btn btn-success" (click)="addRoutineRaw()">Add</button>
</div>
<div *ngIf="firstStepSubmitted" class="routine-table" style="width: 800px;">
  <table class="table table-hover table-striped">
    <thead>
      <tr>
        <!-- <th>Faculty ID</th> -->
        <th>{{RoutineTitle}}</th>
        <th>Bacth&Section</th>
        <th>Timeslot</th>
        <th>Course</th>
        <th>Faculty</th>
        <th>Room</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor='let routine of routines'>
        <td>
          <h6>
            <tr>
             
            </tr>
          </h6>
        </td>
        <td>
          <h6>
            <tr>
              {{
                routine.batchAndSection
              }}
            </tr>
          </h6>
        </td>
        <td>
          <h6>
            <tr>
              {{
                routine.timeSlot
              }}
            </tr>
          </h6>
        </td>
        <td>
          <h6>
            <tr>
              {{
                routine.course
              }}
            </tr>
          </h6>
        </td>
        <td>
          <h6>
            <tr>
              {{
                routine.faculty
              }}
            </tr>
          </h6>
        </td>
        <td>
          <h6>
            <tr>
              {{
                routine.room
              }}
            </tr>
          </h6>
        </td>
        <td>
          <button
            type="button"
            data-toggle="tooltip"
            data-placement="top"
            ngbTooltip="Delete"
            class="btn btn-danger"
            (click)="deleteRowRutine(routine.batchAndSection, routine.timeSlot)"
          >
            <i class="fa fa-trash" aria-hidden="true"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <button [disabled]="!secondStepLoaded" class="btn btn-success" (click)="submitDayRoutine()">Submit Day routine</button>
</div>
</div>

  

</div>
